<!doctype html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D"> 
 <head> 
  <meta charset="UTF-8"> 
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover"> 
  <meta name="referrer" content="unsafe-url"> 
  <title>Brave: эфемерные куки для правильной приватности / Хабр</title> 
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }

    /* non-breaking hyphen */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/l/font?kit=KFOlCnqEu92Fr1MmEU9vBh0_IsHAlmrO6g&skey=ee881451c540fdec&v=v29) format('woff2');
      unicode-range: U+02011;
    }
  </style> 
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.961b6771.css" as="style">
  <link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.55ca5167.js" as="script">
  <link rel="preload" href="https://assets.habr.com/habr-web/css/app.d1834a6b.css" as="style">
  <link rel="preload" href="https://assets.habr.com/habr-web/js/app.69ba180e.js" as="script"> 
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.961b6771.css">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.d1834a6b.css"> 
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.2822d469ec31a56409ac330bbcf7fcbf.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script> 
  <script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/company\/brave\/blog\/651047\/"},"headline":"Brave: эфемерные куки для правильной приватности","datePublished":"2022-03-11T22:12:24+03:00","dateModified":"2022-03-11T22:12:24+03:00","author":{"@type":"Person","name":"BraveSoftware"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"TL;DRС самых первых релизов Brave блокировал все сторонние хранилища (куки, localStorage, indexedDB). Такая блокировка защищает наших пользователей от самых расп...","url":"https:\/\/habr.com\/ru\/company\/brave\/blog\/651047\/#post-content-body","about":["c_brave","h_browsers","f_develop"],"image":["https:\/\/habr.com\/share\/publication\/651047\/86266c6790e80ce85f8338f01c26e3e0\/"]}</script> 
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script> 
  <style>.grecaptcha-badge{visibility: hidden;}</style> 
  <meta name="habr-version" content="2.66.0"> 
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613">
  <meta data-vue-meta="ssr" property="fb:pages" content="472597926099084">
  <meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image">
  <meta data-vue-meta="ssr" name="twitter:site" content="@habr_com">
  <meta data-vue-meta="ssr" property="og:site_name" content="Хабр" data-vmid="og:site_name">
  <meta data-vue-meta="ssr" property="og:title" content="Brave: эфемерные куки для правильной приватности" data-vmid="og:title">
  <meta data-vue-meta="ssr" name="twitter:title" content="Brave: эфемерные куки для правильной приватности" data-vmid="twitter:title">
  <meta data-vue-meta="ssr" name="aiturec:title" content="Brave: эфемерные куки для правильной приватности" data-vmid="aiturec:title">
  <meta data-vue-meta="ssr" name="description" content="TL;DRС самых первых релизов Brave блокировал все сторонние хранилища (куки, localStorage, indexedDB). Такая блокировка защищает наших пользователей от самых распространённых форм трекинга, но может..." data-vmid="description">
  <meta data-vue-meta="ssr" itemprop="description" content="TL;DRС самых первых релизов Brave блокировал все сторонние хранилища (куки, localStorage, indexedDB). Такая блокировка защищает наших пользователей от самых распространённых форм трекинга, но может..." data-vmid="description:itemprop">
  <meta data-vue-meta="ssr" property="og:description" content="TL;DRС самых первых релизов Brave блокировал все сторонние хранилища (куки, localStorage, indexedDB). Такая блокировка защищает наших пользователей от самых распространённых форм трекинга, но может..." data-vmid="og:description">
  <meta data-vue-meta="ssr" name="twitter:description" content="TL;DRС самых первых релизов Brave блокировал все сторонние хранилища (куки, localStorage, indexedDB). Такая блокировка защищает наших пользователей от самых распространённых форм трекинга, но может..." data-vmid="twitter:description">
  <meta data-vue-meta="ssr" property="aiturec:description" content="TL;DRС самых первых релизов Brave блокировал все сторонние хранилища (куки, localStorage, indexedDB). Такая блокировка защищает наших пользователей от самых распространённых форм трекинга, но может..." data-vmid="aiturec:description">
  <meta data-vue-meta="ssr" itemprop="image" content="https://habrastorage.org/getpro/habr/upload_files/8a6/cd3/531/8a6cd3531e07959a68125e42ace8b4c8.png" data-vmid="image:itemprop">
  <meta data-vue-meta="ssr" property="og:image" content="https://habrastorage.org/getpro/habr/upload_files/8a6/cd3/531/8a6cd3531e07959a68125e42ace8b4c8.png" data-vmid="og:image">
  <meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width">
  <meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <meta data-vue-meta="ssr" property="aiturec:image" content="https://habrastorage.org/getpro/habr/upload_files/8a6/cd3/531/8a6cd3531e07959a68125e42ace8b4c8.png" data-vmid="aiturec:image">
  <meta data-vue-meta="ssr" name="twitter:image" content="https://habrastorage.org/getpro/habr/upload_files/8a6/cd3/531/8a6cd3531e07959a68125e42ace8b4c8.png" data-vmid="twitter:image">
  <meta data-vue-meta="ssr" property="vk:image" content="https://habrastorage.org/getpro/habr/upload_files/8a6/cd3/531/8a6cd3531e07959a68125e42ace8b4c8.png?format=vk" data-vmid="vk:image">
  <meta data-vue-meta="ssr" property="aiturec:item_id" content="651047" data-vmid="aiturec:item_id">
  <meta data-vue-meta="ssr" property="aiturec:datetime" content="2022-03-11T19:12:24.000Z" data-vmid="aiturec:datetime">
  <meta data-vue-meta="ssr" content="https://habr.com/ru/company/brave/blog/651047/" property="og:url" data-vmid="og:url">
  <meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type">
  <meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale">
  <meta data-vue-meta="ssr" name="keywords" content="Brave, Ephemeral storage, Брейв, эфемерные хранилища"> 
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/651047/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss">
  <link data-vue-meta="ssr" href="https://habr.com/ru/company/brave/blog/651047/" rel="canonical" data-vmid="canonical">
  <link data-vue-meta="ssr" data-vmid="hreflang">
  <link data-vue-meta="ssr" image_src="image" href="https://habrastorage.org/getpro/habr/upload_files/8a6/cd3/531/8a6cd3531e07959a68125e42ace8b4c8.png" data-vmid="image:href">
  <link data-vue-meta="ssr" rel="amphtml" href="https://habr.com/ru/amp/post/651047/"> 
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44"> 
  <meta name="msapplication-TileColor" content="#629FBC"> 
  <meta name="apple-mobile-web-app-capable" content="yes"> 
  <meta name="mobile-web-app-capable" content="yes"> 
  <link rel="shortcut icon" type="image/png" sizes="16x16" href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"> 
  <link rel="shortcut icon" type="image/png" sizes="32x32" href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"> 
  <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"> 
  <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"> 
  <link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"> 
  <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"> 
  <link rel="apple-touch-icon" type="image/png" sizes="256x256" href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)" href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)" href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)" href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"> 
  <link rel="apple-touch-startup-image" media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)" href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"> 
  <link rel="mask-icon" color="#77a2b6" href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"> 
  <link crossorigin="use-credentials" href="/manifest.webmanifest" rel="manifest"> 
 </head> 
 <body> 
  <div id="app" data-server-rendered="true" data-async-called="true">
   <div class="tm-layout__wrapper">
    <!----> 
    <div></div> <!----> 
    <header class="tm-header">
     <div class="tm-page-width">
      <div class="tm-header__container">
       <!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru">
         <svg height="16" width="16" class="tm-svg-img tm-header__icon">
          <title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use>
         </svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> 
       <div class="tm-dropdown tm-header__projects">
        <div class="tm-dropdown__head">
         <button class="tm-header__dropdown-toggle">
          <svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown">
           <title>Открыть список</title> <use xlink:href="/img/megazord-v25.4b679db1.svg#arrow-down"></use>
          </svg></button>
        </div> <!---->
       </div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn"> Как стать автором </a> 
       <div class="tm-feature tm-header__feature tm-feature_variant-inline">
        <!---->
       </div> <!----> <!---->
      </div>
     </div>
    </header> 
    <div class="tm-layout">
     <div class="tm-page-progress-bar"></div> 
     <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky">
      <div class="tm-page-width">
       <div class="tm-base-layout__header-wrapper">
        <div class="tm-main-menu">
         <div class="tm-main-menu__section">
          <nav class="tm-main-menu__section-content">
           <!----> <a href="/ru/flows/all" class="tm-main-menu__item"> Все потоки </a> <a href="/ru/flows/develop/" class="tm-main-menu__item"> Разработка </a><a href="/ru/flows/admin/" class="tm-main-menu__item"> Администрирование </a><a href="/ru/flows/design/" class="tm-main-menu__item"> Дизайн </a><a href="/ru/flows/management/" class="tm-main-menu__item"> Менеджмент </a><a href="/ru/flows/marketing/" class="tm-main-menu__item"> Маркетинг </a><a href="/ru/flows/popsci/" class="tm-main-menu__item"> Научпоп </a>
          </nav>
         </div>
        </div> 
        <div class="tm-header-user-menu tm-base-layout__user-menu">
         <a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search">
          <svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark">
           <title>Поиск</title> <use xlink:href="/img/megazord-v25.4b679db1.svg#search"></use>
          </svg></a> <!----> <!----> <!----> 
         <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop">
          <div class="tm-dropdown">
           <div class="tm-dropdown__head">
            <svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon">
             <title>Профиль</title> <use xlink:href="/img/megazord-v25.4b679db1.svg#header-user"></use>
            </svg> <!---->
           </div> <!---->
          </div> <!---->
         </div> <!---->
        </div>
       </div>
      </div>
     </div> <!----> 
     <div class="tm-page-width"></div> 
     <main class="tm-layout__container">
      <div hl="ru" companyname="brave" data-async-called="true" class="tm-page">
       <div class="tm-page-width">
        <div class="tm-page__header">
         <!---->
        </div> 
        <div class="tm-page__wrapper">
         <div class="tm-page__main tm-page__main_has-sidebar">
          <div class="pull-down">
           <div class="pull-down__header" style="height:0px;">
            <div class="pull-down__content" style="bottom:10px;">
             <svg height="24" width="24" class="tm-svg-img pull-down__arrow">
              <title>Обновить</title> <use xlink:href="/img/megazord-v25.4b679db1.svg#pull-arrow"></use>
             </svg>
            </div>
           </div> 
           <div class="tm-article-presenter">
            <div class="tm-company-profile-card tm-company-article__profile-card">
             <div class="tm-company-card tm-company-profile-card__info">
              <div class="tm-company-card__header">
               <a href="/ru/company/brave/profile/" class="tm-company-card__avatar">
                <div class="tm-entity-image">
                 <img alt="" height="48" src="//habrastorage.org/getpro/habr/company/29e/d16/a6e/29ed16a6e1c6c2e66a63c92e9e38659b.png" width="48" class="tm-entity-image__pic">
                </div></a> <!----> 
               <div class="tm-rating tm-company-card__rating">
                <div class="tm-rating__header"> 
                 <div class="tm-rating__counter">
                  27.13
                 </div>
                </div> 
                <div class="tm-rating__text">
                  Рейтинг 
                </div>
               </div> <!---->
              </div> 
              <div class="tm-company-card__info">
               <a href="/ru/company/brave/profile/" class="tm-company-card__name"> Brave </a> 
               <div class="tm-company-card__description">
                Browse privately. Search privately. Ditch Big Tech
               </div>
              </div>
             </div> <!---->
            </div> 
            <div class="tm-article-presenter__body">
             <div class="tm-misprint-area">
              <div class="tm-misprint-area__wrapper">
               <article class="tm-article-presenter__content tm-article-presenter__content_narrow">
                <div class="tm-article-presenter__header"> 
                 <div class="tm-article-snippet tm-article-presenter__snippet">
                  <div class="tm-article-snippet__meta-container">
                   <div class="tm-article-snippet__meta">
                    <span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/BraveSoftware/" title="BraveSoftware" class="tm-user-info__userpic">
                      <div class="tm-entity-image">
                       <svg height="24" width="24" class="tm-svg-img tm-image-placeholder tm-image-placeholder_green">
                        <!----> <use xlink:href="/img/megazord-v25.4b679db1.svg#placeholder-user"></use>
                       </svg>
                      </div></a> <span class="tm-user-info__user"><a href="/ru/users/BraveSoftware/" class="tm-user-info__username"> BraveSoftware </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2022-03-11T19:12:24.000Z" title="2022-03-11, 22:12">вчера в 22:12</time></span>
                   </div> <!---->
                  </div> 
                  <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Brave: эфемерные куки для правильной приватности</span></h1> 
                  <div class="tm-article-snippet__hubs">
                   <span class="tm-article-snippet__hubs-item"><a href="/ru/company/brave/blog/" class="tm-article-snippet__hubs-item-link router-link-active"><span>Блог компании Brave</span> <!----></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/browsers/" class="tm-article-snippet__hubs-item-link"><span>Браузеры</span> <!----></a></span>
                  </div> 
                  <div class="tm-article-snippet__labels">
                   <div class="tm-article-snippet__label tm-article-snippet__label_variant-translation">
                    <span> Перевод </span>
                   </div>
                  </div> <!----> <!---->
                 </div>
                </div> 
                <div class="tm-article-presenter__origin">
                 <a href="https://brave.com/privacy-updates/7-ephemeral-storage/" target="_blank" class="tm-article-presenter__origin-link"> Автор оригинала: <span> Brave Privacy Team </span></a>
                </div> 
                <div data-gallery-root="" lang="ru" class="tm-article-body">
                 <div></div> 
                 <div id="post-content-body">
                  <div>
                   <div class="article-formatted-body article-formatted-body_version-2">
                    <div xmlns="http://www.w3.org/1999/xhtml">
                     <h3>TL;DR</h3>
                     <p>С самых первых релизов Brave блокировал все сторонние хранилища (куки, <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage"><u>localStorage</u></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API"><u>indexedDB</u></a>). Такая блокировка защищает наших пользователей от самых распространённых форм трекинга, но может ломать сайты. Сегодня мы поговорим об «эфемерных хранилищах», нашей стратегии работы со сторонними хранилищами в Brave, которая улучшает веб-совместимость, сохраняя при этом этот же уровень защиты конфиденциальности пользовательских данных.</p>
                     <h3>Что было раньше?</h3>
                     <p>В основном трекинг в сети основывается на использовании сторонних (3rd-party) кук и других данных, то есть на сохранении и передаче уникальных идентификаторов на сайты, которые вы не собирались посещать. Такой трекинг и ваша идентификация, как правило, происходят без вашего ведома и согласия, и конфиденциальные браузеры постоянно борются с таким трекингом.&nbsp;</p>
                     <p>Ранее Brave агрессивно блокировал все сторонние хранилища по умолчанию (в частности, не сохранял 3rd-party куки). Это даёт серьёзную защиту, но может сломать сайты, которые рассчитывают на доступность внешних хранилищ. И, к сожалению, большинство сайтов созданы под Chrome и рассчитывают на практически ни в чём не ограниченные внешние хранилища. При этом Chrome является самым популярным, и самым небезопасным с этой точки зрения браузером.</p>
                     <p>Из-за этого раньше в Brave сайты часто ломались, а пользователям приходилось выбирать между функционирующим браузером и нетронутыми личными данными. Мы боролись с этим по-разному, и скриптами, и <a href="https://github.com/brave/brave-browser/wiki/Web-Compatibility-Exceptions-in-Brave"><u>точечными исключениями</u></a>. В основном, конечно, работало, но решение не было идеальным. В результате мы разработали принципиально новую систему «эфемерных» хранилищ, которая защищает от трекинга, но при этом практически не влияет на функционирование сайтов.&nbsp;</p>
                     <h3>Как работают «эфемерные хранилища»?&nbsp;</h3>
                     <p>Эфемерные хранилища по сути представляют собой объединение нескольких решений.&nbsp;</p>
                     <p><strong>Во-первых, мы никогда не отправляем куки на запросы подресурсов от третьей стороны. </strong>Мы <em>будем </em>отправлять куки для запросов подресурсов с основного документа, или в других локальных (с того же сайта) вложенных документах, но мы <em>не будем </em>отправлять куки на запросы подресурсов из различных источников, даже если они вызываются с основного сайта.&nbsp;</p>
                     <p><strong>Во-вторых, сторонние фреймы получат секционированное хранилище для некоторых API хранилищ DOM. </strong>JavaScript, выполняющийся в стороннем фрейме, может использовать document.cookie, localStorage и sessionStorage API, но значения, которые он увидит, секционированы в рамках основного документа. Это означает, что код, исполняющийся в social.org &lt;iframe&gt; на example.org, будет видеть хранилище, отличающееся от того, что social.org &lt;iframe&gt; увидит на other.org.</p>
                     <p><strong>В-третьих, хранилища доступны для всех для оригинальных страниц одного и того же сайта. </strong>Если пользователь открыл два таба одного и того же сайта (одинаковый eTLD+1), третьи стороны на этих сайтах будут видеть одно и то же хранилище, и смогут использовать его, чтобы общаться между собой. К примеру, вы открыли два таба одного сайта, first.example.org и second.example.org, и оба включают в себя iframe ютуба. В этом случае оба фрейма ютуба будут видеть одно и то же хранилище. Однако же, фрейм ютуба на different.org увидит другое хранилище, а таб, загружающий youtube.com напрямую, увидит вообще третье.&nbsp;</p>
                     <p><strong>В-четвёртых, внешние хранилища очищаются, когда закрывается последний оригинальный документ. </strong>Внешние документы получают различные хранилища для каждого сайта верхнего уровня. Если хотя бы один документ верхнего уровня сайта открыт, хранилище будет существовать, а сторонние фреймы будут видеть одно и то же хранилище для любых новых документов верхнего уровня для этого же сайта верхнего уровня. Но когда больше не будет существовать ни одного документа верхнего уровня для сайта, все внешние хранилища для этого сайта будут очищены. Если вы вновь посетите этот сайт позднее, все включённые внешние фреймы на этом сайте будут видеть новые пустые хранилища.</p>
                     <p><strong>Наконец, хранилища очищаются при перезапуске браузера.</strong> Когда вы выходите из Brave, все хранилища очищаются вне зависимости от того, перезапускаете ли вы браузер полностью или вы включили опцию запуска браузера с «ранее открытыми вкладками». Логика здесь схожа с той, по которой <a href="https://habr.com/ru/company/brave/blog/587968/"><u>мы меняем затравку для рандомизации цифрового отпечатка вашего браузера</u></a>. Это делается для предотвращения появления <a href="https://textslashplain.com/2019/06/24/surprise-undead-session-cookies/"><u>неожиданно долгоживущих сессионных значений</u></a>, о которых говорил <a href="https://twitter.com/ericlaw"><u>Эрик Лоуренс</u></a> из команды Edge.&nbsp;</p>
                     <h3>А что с другими браузерами?</h3>
                     <p>Во многом наши эфемерные хранилища схожи с тем, как Safari работает с внешними хранилищами. Мы хотели бы отметить роль Safari в популяризации идеи секционирования внешних хранилищ для защиты от трекинга. Safari, как и Tor Browser Bundle, который давно уже секционирует сторонние хранилища в рамках системы First-Party Isolation, предоставляют разделённые хранилища для внешних данных в зависимости от того, на каком сайте они находятся.</p>
                     <p>Тем не менее, наш подход достаточно сильно отличается от Safari. Safari очищает внешние хранилища при закрытии браузера, мы же очищаем эти хранилища при закрытии сайта. У каждого подхода свои плюсы и минусы, но наш подход защищает от некоторых случаев провязывания аккаунтов пользователя третьими сторонами. Тем не менее, снимаем шляпу перед Safari и TBB за то, что они во многом выступили пионерами подхода секционирования. Firefox тоже работает с секционированием схожим образом, но его секционирование сохраняется навсегда (в Brave — пока вы взаимодействуете с сайтом, в Safari — до закрытия браузера). Несмотря на то, что наш подход во многом агрессивнее других браузеров, мы хотели бы подчеркнуть их, <a href="https://blog.mozilla.org/security/2021/01/26/supercookie-protections/"><u>и в особенности Firefox</u></a>, работу над секционированием других элементов сайтов (кэш HTTP и т.д.). Команда Chromium также работает в этом направлении, и, хотя эта работа и не всегда видна глазу конечных пользователей, она критически важна для безопасности браузеров, основанных на Chromium, таких как Chrome, Brave, и Edge.</p>
                    </div>
                   </div>
                  </div> 
                  <div class="v-portal" style="display:none;"></div>
                 </div> <!----> <!---->
                </div> 
                <div class="tm-article-presenter__meta">
                 <div class="tm-separated-list tm-article-presenter__meta-list">
                  <span class="tm-separated-list__title">Теги:</span> 
                  <ul class="tm-separated-list__list">
                   <li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BBrave%5D" class="tm-tags-list__link">Brave</a></li>
                   <li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BEphemeral%20storage%5D" class="tm-tags-list__link">Ephemeral storage</a></li>
                   <li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%91%D1%80%D0%B5%D0%B9%D0%B2%5D" class="tm-tags-list__link">Брейв</a></li>
                   <li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%8D%D1%84%D0%B5%D0%BC%D0%B5%D1%80%D0%BD%D1%8B%D0%B5%20%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B0%5D" class="tm-tags-list__link">эфемерные хранилища</a></li>
                  </ul>
                 </div> 
                 <div class="tm-separated-list tm-article-presenter__meta-list">
                  <span class="tm-separated-list__title">Хабы:</span> 
                  <ul class="tm-separated-list__list">
                   <li class="tm-separated-list__item"><a href="/ru/company/brave/blog/" class="tm-hubs-list__link router-link-active"> Блог компании Brave </a></li>
                   <li class="tm-separated-list__item"><a href="/ru/hub/browsers/" class="tm-hubs-list__link"> Браузеры </a></li>
                  </ul>
                 </div>
                </div>
               </article>
              </div> <!---->
             </div> 
             <div class="tm-article-sticky-panel">
              <div class="tm-data-icons tm-article-sticky-panel__icons">
               <div class="tm-article-rating tm-data-icons__item">
                <div class="tm-votes-meter tm-article-rating__votes-switcher">
                 <svg height="24" width="24" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_appearance-article">
                  <title>Всего голосов 1: ↑1 и ↓0</title> <use xlink:href="/img/megazord-v25.4b679db1.svg#counter-rating"></use>
                 </svg> <span title="Всего голосов 1: ↑1 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating">+1</span>
                </div> 
                <div class="v-portal" style="display:none;"></div>
               </div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item">
                <svg height="24" width="24" class="tm-svg-img tm-icon-counter__icon">
                 <title>Просмотры</title> <use xlink:href="/img/megazord-v25.4b679db1.svg#counter-views"></use>
                </svg> <span class="tm-icon-counter__value">856</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon">
                 <svg height="24" width="24" class="tm-svg-img tm-svg-icon">
                  <title>Добавить в закладки</title> <use xlink:href="/img/megazord-v25.4b679db1.svg#counter-favorite"></use>
                 </svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter"> 4 </span></button> <!----> 
               <div title="Поделиться" class="tm-sharing tm-data-icons__item">
                <button type="button" class="tm-sharing__button">
                 <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="tm-sharing__icon">
                  <path fill="currentColor" d="M13.8 13.8V18l7.2-6.6L13.8 5v3.9C5 8.9 3 18.6 3 18.6c2.5-4.4 6-4.8 10.8-4.8z"></path>
                 </svg></button> 
                <div class="v-portal" style="display:none;"></div>
               </div> 
               <div class="v-portal" style="display:none;"></div>
              </div> 
             </div>
            </div> 
            <div class="v-portal" style="display:none;"></div> 
            <div class="tm-article-presenter__footer">
             <div class="tm-article-blocks">
              <!----> 
              <section class="tm-block tm-block_spacing-bottom">
               <!----> 
               <div class="tm-block__body tm-block__body_variant-balanced">
                <div class="tm-article-author">
                 <div class="tm-article-author__company">
                  <div class="tm-article-author__company-card">
                   <div class="tm-company-snippet">
                    <a href="/ru/company/brave/profile/" class="tm-company-snippet__logo-link">
                     <div class="tm-entity-image">
                      <img alt="" height="40" src="//habrastorage.org/getpro/habr/company/29e/d16/a6e/29ed16a6e1c6c2e66a63c92e9e38659b.png" width="40" class="tm-entity-image__pic">
                     </div></a> 
                    <div class="tm-company-snippet__info">
                     <a href="/ru/company/brave/profile/" class="tm-company-snippet__title">Brave</a> 
                     <div class="tm-company-snippet__description">
                      Browse privately. Search privately. Ditch Big Tech
                     </div>
                    </div>
                   </div> 
                   <div class="tm-article-author__buttons">
                    <!----> <!---->
                   </div>
                  </div> <!----> 
                  <div class="tm-article-author__separator"></div>
                 </div> 
                 <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article">
                  <div class="tm-user-card__info-container">
                   <div class="tm-user-card__header">
                    <div class="tm-user-card__header-data">
                     <a href="/ru/users/BraveSoftware/" class="tm-user-card__userpic tm-user-card__userpic_size-40">
                      <div class="tm-entity-image">
                       <svg class="tm-svg-img tm-image-placeholder tm-image-placeholder_green">
                        <!----> <use xlink:href="/img/megazord-v25.4b679db1.svg#placeholder-user"></use>
                       </svg>
                      </div></a> 
                     <div class="tm-user-card__meta">
                      <div title=" 58 голосов " class="tm-karma tm-user-card__karma">
                       <div class="tm-karma__votes tm-karma__votes_positive">
                         36 
                       </div> 
                       <div class="tm-karma__text">
                         Карма 
                       </div>
                      </div> 
                      <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating">
                       <div class="tm-rating__header"> 
                        <div class="tm-rating__counter">
                         0.2
                        </div>
                       </div> 
                       <div class="tm-rating__text">
                         Рейтинг 
                       </div>
                      </div>
                     </div>
                    </div>
                   </div> 
                   <div class="tm-user-card__info tm-user-card__info_variant-article">
                    <div class="tm-user-card__title tm-user-card__title_variant-article">
                     <!----> <a href="/ru/users/BraveSoftware/" class="tm-user-card__nickname tm-user-card__nickname_variant-article"> @BraveSoftware </a> <!---->
                    </div> 
                    <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Пользователь</p>
                   </div>
                  </div> 
                  <div class="tm-user-card__buttons tm-user-card__buttons_variant-article">
                   <!----> <!----> <!----> <!----> <!---->
                  </div>
                 </div> <!---->
                </div> 
                <div class="v-portal" style="display:none;"></div>
               </div> <!---->
              </section> 
              <div class="tm-article-blocks__comments">
               <div class="tm-article-page-comments">
                <div class="tm-article-comments-counter-link tm-article-comments-counter-button">
                 <a href="/ru/company/brave/blog/651047/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style">
                  <svg height="24" width="24" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted">
                   <title>Комментарии</title> <use xlink:href="/img/megazord-v25.4b679db1.svg#counter-comments"></use>
                  </svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted"> Комментарии 1 </span></a> <!---->
                </div>
               </div>
              </div> <!----> <!----> <!----> 
             </div>
            </div>
           </div>
          </div>
         </div> 
         <div class="tm-page__sidebar">
          <div class="tm-layout-sidebar">
           <div class="tm-layout-sidebar__placeholder_initial"></div> 
           <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;">
            <!----> 
            <section class="tm-block tm-block_spacing-bottom">
             <header class="tm-block__header">
              <h2 class="tm-block__title">Информация</h2> <!---->
             </header> 
             <div class="tm-block__body">
              <div class="tm-company-basic-info">
               <dl class="tm-description-list tm-description-list_variant-columns-nowrap">
                <dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">
                 Дата основания
                </dt> 
                <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
                 <time datetime="2015-05-27T21:00:00.000Z" title="2015-05-28, 00:00">28 мая 2015</time>
                </dd>
               </dl> 
               <dl class="tm-description-list tm-description-list_variant-columns-nowrap">
                <dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">
                 Местоположение
                </dt> 
                <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
                  США 
                </dd>
               </dl> 
               <dl class="tm-description-list tm-description-list_variant-columns-nowrap">
                <dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">
                 Сайт
                </dt> 
                <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
                 <a href="https://brave.com" target="_blank" class="tm-company-basic-info__link"> brave.com </a>
                </dd>
               </dl> 
               <dl class="tm-description-list tm-description-list_variant-columns-nowrap">
                <dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">
                 Численность
                </dt> 
                <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
                  101–200 человек 
                </dd>
               </dl> 
               <dl class="tm-description-list tm-description-list_variant-columns-nowrap">
                <dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">
                 Дата регистрации
                </dt> 
                <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
                 <time datetime="2021-02-18T10:23:07.000Z" title="2021-02-18, 13:23">18 февраля 2021</time>
                </dd>
               </dl> 
               <dl class="tm-description-list tm-description-list_variant-columns-nowrap">
                <dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">
                 Представитель
                </dt> 
                <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
                 <a href="/" class="tm-company-basic-info__link router-link-active"> </a>
                </dd>
               </dl>
              </div>
             </div> <!---->
            </section> 
            <div class="tm-company-widgets"></div> <!----> <!---->
           </div>
          </div>
         </div>
        </div>
       </div>
      </div>
     </main> <!---->
    </div> 
    <div class="tm-footer-menu">
     <div class="tm-page-width">
      <div class="tm-footer-menu__container">
       <div class="tm-footer-menu__block">
        <h3 class="tm-footer-menu__block-title"> Ваш аккаунт </h3> 
        <div class="tm-footer-menu__block-content">
         <ul class="tm-footer-menu__list">
          <li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/company/brave/blog/651047/&amp;hl=ru" rel="nofollow" target="_self"> Войти </a></li>
          <li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/company/brave/blog/651047/&amp;hl=ru" rel="nofollow" target="_self"> Регистрация </a></li>
         </ul>
        </div>
       </div>
       <div class="tm-footer-menu__block">
        <h3 class="tm-footer-menu__block-title"> Разделы </h3> 
        <div class="tm-footer-menu__block-content">
         <ul class="tm-footer-menu__list">
          <li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active"> Публикации </a></li>
          <li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link"> Новости </a></li>
          <li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link"> Хабы </a></li>
          <li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link"> Компании </a></li>
          <li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link"> Авторы </a></li>
          <li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link"> Песочница </a></li>
         </ul>
        </div>
       </div>
       <div class="tm-footer-menu__block">
        <h3 class="tm-footer-menu__block-title"> Информация </h3> 
        <div class="tm-footer-menu__block-content">
         <ul class="tm-footer-menu__list">
          <li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link"> Устройство сайта </a></li>
          <li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link"> Для авторов </a></li>
          <li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link"> Для компаний </a></li>
          <li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link"> Документы </a></li>
          <li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank"> Соглашение </a></li>
          <li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank"> Конфиденциальность </a></li>
         </ul>
        </div>
       </div>
       <div class="tm-footer-menu__block">
        <h3 class="tm-footer-menu__block-title"> Услуги </h3> 
        <div class="tm-footer-menu__block-content">
         <ul class="tm-footer-menu__list">
          <li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank"> Реклама </a></li>
          <li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank"> Тарифы </a></li>
          <li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank"> Контент </a></li>
          <li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank"> Семинары </a></li>
          <li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link"> Мегапроекты </a></li>
         </ul>
        </div>
       </div>
      </div>
     </div>
    </div> 
    <div class="tm-footer">
     <div class="tm-page-width">
      <div class="tm-footer__container">
       <!----> 
       <div class="tm-footer__social">
        <a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon">
         <svg height="16" width="16" class="tm-svg-img tm-svg-icon">
          <title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use>
         </svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon">
         <svg height="16" width="16" class="tm-svg-img tm-svg-icon">
          <title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use>
         </svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon">
         <svg height="16" width="16" class="tm-svg-img tm-svg-icon">
          <title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use>
         </svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon">
         <svg height="16" width="16" class="tm-svg-img tm-svg-icon">
          <title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use>
         </svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon">
         <svg height="16" width="16" class="tm-svg-img tm-svg-icon">
          <title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use>
         </svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon">
         <svg height="16" width="16" class="tm-svg-img tm-svg-icon">
          <title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use>
         </svg></a>
       </div> 
       <div class="v-portal" style="display:none;"></div> <button class="tm-footer__link"><!----> Настройка языка </button> <a href="/ru/about" class="tm-footer__link"> О сайте </a> <a href="/ru/feedback/" class="tm-footer__link"> Техническая поддержка </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link"> Вернуться на старую версию </a> 
       <div class="tm-footer-copyright">
        <span class="tm-copyright"><span class="tm-copyright__years">© 2006–2022 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span>
       </div>
      </div>
     </div>
    </div> <!----> <!---->
   </div> 
   <div class="vue-portal-target"></div>
  </div> 
  <script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"651047":{"id":"651047","timePublished":"2022-03-11T19:12:24+00:00","isCorporative":true,"lang":"ru","titleHtml":"Brave: эфемерные куки для правильной приватности","leadData":{"textHtml":"\u003Cp\u003EС самых первых релизов Brave блокировал все сторонние хранилища (куки, \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FWindow\u002FlocalStorage\"\u003E\u003Cu\u003ElocalStorage\u003C\u002Fu\u003E\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FIndexedDB_API\"\u003E\u003Cu\u003EindexedDB\u003C\u002Fu\u003E\u003C\u002Fa\u003E). Такая блокировка защищает наших пользователей от самых распространённых форм трекинга, но может ломать сайты. Сегодня мы поговорим об «эфемерных хранилищах», нашей стратегии работы со сторонними хранилищами в Brave, которая улучшает веб-совместимость, сохраняя при этом этот же уровень защиты конфиденциальности пользовательских данных.\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F8a6\u002Fcd3\u002F531\u002F8a6cd3531e07959a68125e42ace8b4c8.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F8a6\u002Fcd3\u002F531\u002F8a6cd3531e07959a68125e42ace8b4c8.png","fit":"cover","positionY":0,"positionX":0}},"editorVersion":"2.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Brave Privacy Team","originalUrl":"https:\u002F\u002Fbrave.com\u002Fprivacy-updates\u002F7-ephemeral-storage\u002F"}}],"author":{"scoreStats":{"score":36,"votesCount":58},"rating":0.2,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"2578349","alias":"BraveSoftware","fullname":null,"avatarUrl":null,"speciality":null},"statistics":{"commentsCount":1,"favoritesCount":4,"readingCount":856,"score":1,"votesCount":1},"hubs":[{"relatedData":null,"id":"22678","alias":"brave","type":"corporative","title":"Блог компании Brave","titleHtml":"Блог компании Brave","isProfiled":false},{"relatedData":null,"id":"19257","alias":"browsers","type":"collective","title":"Браузеры","titleHtml":"Браузеры","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Ch3\u003ETL;DR\u003C\u002Fh3\u003E\u003Cp\u003EС самых первых релизов Brave блокировал все сторонние хранилища (куки, \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FWindow\u002FlocalStorage\"\u003E\u003Cu\u003ElocalStorage\u003C\u002Fu\u003E\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FIndexedDB_API\"\u003E\u003Cu\u003EindexedDB\u003C\u002Fu\u003E\u003C\u002Fa\u003E). Такая блокировка защищает наших пользователей от самых распространённых форм трекинга, но может ломать сайты. Сегодня мы поговорим об «эфемерных хранилищах», нашей стратегии работы со сторонними хранилищами в Brave, которая улучшает веб-совместимость, сохраняя при этом этот же уровень защиты конфиденциальности пользовательских данных.\u003C\u002Fp\u003E\u003Ch3\u003EЧто было раньше?\u003C\u002Fh3\u003E\u003Cp\u003EВ основном трекинг в сети основывается на использовании сторонних (3rd-party) кук и других данных, то есть на сохранении и передаче уникальных идентификаторов на сайты, которые вы не собирались посещать. Такой трекинг и ваша идентификация, как правило, происходят без вашего ведома и согласия, и конфиденциальные браузеры постоянно борются с таким трекингом. \u003C\u002Fp\u003E\u003Cp\u003EРанее Brave агрессивно блокировал все сторонние хранилища по умолчанию (в частности, не сохранял 3rd-party куки). Это даёт серьёзную защиту, но может сломать сайты, которые рассчитывают на доступность внешних хранилищ. И, к сожалению, большинство сайтов созданы под Chrome и рассчитывают на практически ни в чём не ограниченные внешние хранилища. При этом Chrome является самым популярным, и самым небезопасным с этой точки зрения браузером.\u003C\u002Fp\u003E\u003Cp\u003EИз-за этого раньше в Brave сайты часто ломались, а пользователям приходилось выбирать между функционирующим браузером и нетронутыми личными данными. Мы боролись с этим по-разному, и скриптами, и \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fbrave\u002Fbrave-browser\u002Fwiki\u002FWeb-Compatibility-Exceptions-in-Brave\"\u003E\u003Cu\u003Eточечными исключениями\u003C\u002Fu\u003E\u003C\u002Fa\u003E. В основном, конечно, работало, но решение не было идеальным. В результате мы разработали принципиально новую систему «эфемерных» хранилищ, которая защищает от трекинга, но при этом практически не влияет на функционирование сайтов. \u003C\u002Fp\u003E\u003Ch3\u003EКак работают «эфемерные хранилища»? \u003C\u002Fh3\u003E\u003Cp\u003EЭфемерные хранилища по сути представляют собой объединение нескольких решений. \u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EВо-первых, мы никогда не отправляем куки на запросы подресурсов от третьей стороны. \u003C\u002Fstrong\u003EМы \u003Cem\u003Eбудем \u003C\u002Fem\u003Eотправлять куки для запросов подресурсов с основного документа, или в других локальных (с того же сайта) вложенных документах, но мы \u003Cem\u003Eне будем \u003C\u002Fem\u003Eотправлять куки на запросы подресурсов из различных источников, даже если они вызываются с основного сайта. \u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EВо-вторых, сторонние фреймы получат секционированное хранилище для некоторых API хранилищ DOM. \u003C\u002Fstrong\u003EJavaScript, выполняющийся в стороннем фрейме, может использовать document.cookie, localStorage и sessionStorage API, но значения, которые он увидит, секционированы в рамках основного документа. Это означает, что код, исполняющийся в social.org &lt;iframe\u003E на example.org, будет видеть хранилище, отличающееся от того, что social.org &lt;iframe\u003E увидит на other.org.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EВ-третьих, хранилища доступны для всех для оригинальных страниц одного и того же сайта. \u003C\u002Fstrong\u003EЕсли пользователь открыл два таба одного и того же сайта (одинаковый eTLD+1), третьи стороны на этих сайтах будут видеть одно и то же хранилище, и смогут использовать его, чтобы общаться между собой. К примеру, вы открыли два таба одного сайта, first.example.org и second.example.org, и оба включают в себя iframe ютуба. В этом случае оба фрейма ютуба будут видеть одно и то же хранилище. Однако же, фрейм ютуба на different.org увидит другое хранилище, а таб, загружающий youtube.com напрямую, увидит вообще третье. \u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EВ-четвёртых, внешние хранилища очищаются, когда закрывается последний оригинальный документ. \u003C\u002Fstrong\u003EВнешние документы получают различные хранилища для каждого сайта верхнего уровня. Если хотя бы один документ верхнего уровня сайта открыт, хранилище будет существовать, а сторонние фреймы будут видеть одно и то же хранилище для любых новых документов верхнего уровня для этого же сайта верхнего уровня. Но когда больше не будет существовать ни одного документа верхнего уровня для сайта, все внешние хранилища для этого сайта будут очищены. Если вы вновь посетите этот сайт позднее, все включённые внешние фреймы на этом сайте будут видеть новые пустые хранилища.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cstrong\u003EНаконец, хранилища очищаются при перезапуске браузера.\u003C\u002Fstrong\u003E Когда вы выходите из Brave, все хранилища очищаются вне зависимости от того, перезапускаете ли вы браузер полностью или вы включили опцию запуска браузера с «ранее открытыми вкладками». Логика здесь схожа с той, по которой \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fbrave\u002Fblog\u002F587968\u002F\"\u003E\u003Cu\u003Eмы меняем затравку для рандомизации цифрового отпечатка вашего браузера\u003C\u002Fu\u003E\u003C\u002Fa\u003E. Это делается для предотвращения появления \u003Ca href=\"https:\u002F\u002Ftextslashplain.com\u002F2019\u002F06\u002F24\u002Fsurprise-undead-session-cookies\u002F\"\u003E\u003Cu\u003Eнеожиданно долгоживущих сессионных значений\u003C\u002Fu\u003E\u003C\u002Fa\u003E, о которых говорил \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fericlaw\"\u003E\u003Cu\u003EЭрик Лоуренс\u003C\u002Fu\u003E\u003C\u002Fa\u003E из команды Edge. \u003C\u002Fp\u003E\u003Ch3\u003EА что с другими браузерами?\u003C\u002Fh3\u003E\u003Cp\u003EВо многом наши эфемерные хранилища схожи с тем, как Safari работает с внешними хранилищами. Мы хотели бы отметить роль Safari в популяризации идеи секционирования внешних хранилищ для защиты от трекинга. Safari, как и Tor Browser Bundle, который давно уже секционирует сторонние хранилища в рамках системы First-Party Isolation, предоставляют разделённые хранилища для внешних данных в зависимости от того, на каком сайте они находятся.\u003C\u002Fp\u003E\u003Cp\u003EТем не менее, наш подход достаточно сильно отличается от Safari. Safari очищает внешние хранилища при закрытии браузера, мы же очищаем эти хранилища при закрытии сайта. У каждого подхода свои плюсы и минусы, но наш подход защищает от некоторых случаев провязывания аккаунтов пользователя третьими сторонами. Тем не менее, снимаем шляпу перед Safari и TBB за то, что они во многом выступили пионерами подхода секционирования. Firefox тоже работает с секционированием схожим образом, но его секционирование сохраняется навсегда (в Brave — пока вы взаимодействуете с сайтом, в Safari — до закрытия браузера). Несмотря на то, что наш подход во многом агрессивнее других браузеров, мы хотели бы подчеркнуть их, \u003Ca href=\"https:\u002F\u002Fblog.mozilla.org\u002Fsecurity\u002F2021\u002F01\u002F26\u002Fsupercookie-protections\u002F\"\u003E\u003Cu\u003Eи в особенности Firefox\u003C\u002Fu\u003E\u003C\u002Fa\u003E, работу над секционированием других элементов сайтов (кэш HTTP и т.д.). Команда Chromium также работает в этом направлении, и, хотя эта работа и не всегда видна глазу конечных пользователей, она критически важна для безопасности браузеров, основанных на Chromium, таких как Chrome, Brave, и Edge.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"Brave"},{"titleHtml":"Ephemeral storage"},{"titleHtml":"Брейв"},{"titleHtml":"эфемерные хранилища"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F8a6\u002Fcd3\u002F531\u002F8a6cd3531e07959a68125e42ace8b4c8.png","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F8a6\u002Fcd3\u002F531\u002F8a6cd3531e07959a68125e42ace8b4c8.png","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompany\\\u002Fbrave\\\u002Fblog\\\u002F651047\\\u002F\"},\"headline\":\"Brave: эфемерные куки для правильной приватности\",\"datePublished\":\"2022-03-11T22:12:24+03:00\",\"dateModified\":\"2022-03-11T22:12:24+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"BraveSoftware\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"TL;DRС самых первых релизов Brave блокировал все сторонние хранилища (куки, localStorage, indexedDB). Такая блокировка защищает наших пользователей от самых расп...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompany\\\u002Fbrave\\\u002Fblog\\\u002F651047\\\u002F#post-content-body\",\"about\":[\"c_brave\",\"h_browsers\",\"f_develop\"],\"image\":[\"https:\\\u002F\\\u002Fhabr.com\\\u002Fshare\\\u002Fpublication\\\u002F651047\\\u002F86266c6790e80ce85f8338f01c26e3e0\\\u002F\"]}","metaDescription":"TL;DRС самых первых релизов Brave блокировал все сторонние хранилища (куки, localStorage, indexedDB). Такая блокировка защищает наших пользователей от самых распространённых форм трекинга, но может...","mainImageUrl":null,"amp":true,"customTrackerLinks":[]},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":""},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{"brave":{"alias":"brave","imageUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fcompany\u002F29e\u002Fd16\u002Fa6e\u002F29ed16a6e1c6c2e66a63c92e9e38659b.png","titleHtml":"Brave","descriptionHtml":"Browse privately. Search privately. Ditch Big Tech","relatedData":null,"statistics":{"postsCount":21,"newsCount":2,"vacanciesCount":0,"employeesCount":3,"careerRating":null,"subscribersCount":132,"rating":27.13,"invest":null},"foundationDate":{"year":"2015","month":"05","day":"28"},"location":{"city":{"id":"462348","title":"San Francisco"},"region":{"id":"209","title":"California"},"country":{"id":"198","title":"США"}},"siteUrl":"https:\u002F\u002Fbrave.com","staffNumber":"101–200 человек","registrationDate":"2021-02-18T10:23:07+00:00","representativeUser":[],"contacts":[],"settings":{"analyticsSettings":[],"branding":null,"status":"active","isStartup":false},"metadata":{"titleHtml":"Brave, San Francisco - Browse privately. Search privately. Ditch Big Tech с 28 мая 2015 г.","title":"Brave, San Francisco - Browse privately. Search privately. Ditch Big Tech с 28 мая 2015 г.","keywords":["Браузеры","Поисковые технологии","Информационная безопасность","Криптовалюты","Видеоконференцсвязь","brave браузер","brave","privacy","брейв","приватность","конфиденциальность","floc","brave search","fingerprinting","tracking","фингерпринтинг"],"descriptionHtml":"21 статья от авторов компании Brave","description":"21 статья от авторов компании Brave"},"aDeskSettings":null,"careerAlias":null}},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{},"workplaceInfo":null},"companyAdmin":{"companyInfo":null,"companyInfoLoading":false,"faqArticles":null,"brandingPreviewImageUrl":null},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"promoData":{"isLoading":false,"hasLoaded":false,"featurer":null,"megaposts":null,"promoLinks":null,"promoPosts":null},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"search":{"searchQueryError":null},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"technotext":{"nominationsList":[]},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"userSpecialization":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script> 
  <script src="https://assets.habr.com/habr-web/js/chunk-vendors.55ca5167.js" defer></script>
  <script src="https://assets.habr.com/habr-web/js/app.69ba180e.js" defer></script> 
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script> 
  <script type="text/javascript">
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script> 
  <noscript> 
   <div> 
    <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt=""> 
   </div> 
  </noscript> 
  <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script> 
  <script src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true"></script>  
 </body>
</html>